<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AVIATOR KERNEL V5.2 - PRECISIÃ“N ABSOLUTA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&display=swap');
        body { font-family: 'monospace'; background: #020617; }
        .orbitron { font-family: 'Orbitron', sans-serif; }
        .win-glow { box-shadow: 0 0 20px rgba(16, 185, 129, 0.4); }
        .glass { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(10px); }
    </style>
</head>
<body class="text-slate-200 p-4">

    <div class="max-w-4xl mx-auto">
        <div class="flex justify-between items-center border-b border-indigo-500/30 pb-4 mb-6">
            <div>
                <h1 class="orbitron text-2xl font-black text-indigo-400 tracking-widest">KERNEL V5.2</h1>
                <p class="text-[10px] text-slate-500 uppercase tracking-tighter">Status: Sistema de MÃ¡xima Seguridad / 502 Reg. Analizados</p>
            </div>
            <div class="text-right">
                <span class="inline-flex items-center rounded-md bg-emerald-400/10 px-2 py-1 text-xs font-medium text-emerald-400 ring-1 ring-inset ring-emerald-400/20">OPERATIVO</span>
            </div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
            <div class="glass border border-slate-800 p-4 rounded-xl">
                <p class="text-[10px] text-slate-400 uppercase">Aciertos</p>
                <h2 id="wins" class="orbitron text-3xl font-black text-emerald-400">0</h2>
            </div>
            <div class="glass border border-slate-800 p-4 rounded-xl">
                <p class="text-[10px] text-slate-400 uppercase">Fallas</p>
                <h2 id="losses" class="orbitron text-3xl font-black text-red-500">0</h2>
            </div>
            <div class="glass border border-slate-800 p-4 rounded-xl">
                <p class="text-[10px] text-slate-400 uppercase">Efectividad</p>
                <h2 id="accuracy" class="orbitron text-3xl font-black text-white">0%</h2>
            </div>
            <div class="glass border border-slate-800 p-4 rounded-xl">
                <p class="text-[10px] text-slate-400 uppercase">Balance Neto</p>
                <h2 id="profit" class="orbitron text-3xl font-black text-indigo-400">$0</h2>
            </div>
        </div>

        <div class="relative bg-slate-900 border-2 border-slate-800 rounded-3xl p-12 text-center mb-8 overflow-hidden shadow-2xl">
            <div class="absolute top-4 right-6 text-[10px] text-slate-600 font-bold italic" id="dbInfo">ID: 0 / 502</div>
            <div id="multiplier" class="orbitron text-8xl font-black text-white mb-6 tracking-tighter transition-all duration-300">0.00x</div>
            <div id="signalDisplay" class="inline-block px-8 py-3 rounded-full bg-slate-950 text-slate-500 font-bold border border-slate-800 uppercase tracking-widest">
                Esperando PatrÃ³n...
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
            <button id="runBtn" class="bg-indigo-600 hover:bg-indigo-500 text-white orbitron py-4 rounded-2xl font-black text-lg transition-all active:scale-95 shadow-lg shadow-indigo-900/40">
                INICIAR BACKTESTING BD1
            </button>
            <div class="flex items-center gap-4 bg-slate-900 px-4 rounded-2xl border border-slate-800">
                <span class="text-[10px] uppercase text-slate-500 font-bold">Velocidad</span>
                <input type="range" id="speed" min="1" max="500" value="50" class="flex-1 accent-indigo-500">
            </div>
        </div>

        <div class="bg-slate-950 border border-slate-800 rounded-xl p-4 h-60 overflow-y-auto">
            <h3 class="text-[10px] uppercase font-bold text-indigo-500 mb-2 border-b border-indigo-500/20 pb-1">Consola de Seguridad V5.2</h3>
            <div id="log" class="space-y-1 text-[11px] font-mono"></div>
        </div>
    </div>

    <script>
        // CARGA COMPLETA DE DATA SEGÃšN TU ARCHIVO (RESUMEN ESTRATÃ‰GICO)
        const database = [2.18, 2.71, 1.68, 2.46, 1.06, 1.96, 1.44, 3.28, 1.2, 2.34, 1.83, 1.15, 1.34, 1.57, 1.03, 1.4, 4.39, 1.89, 2.05, 1.32, 2.88, 1.1, 1, 1.56, 1.22, 1.37, 4.12, 1.76, 2.15, 1.45, 1.28, 1.11, 2, 1.51, 1.18, 1.12, 1.45, 1.33, 1.82, 3.44, 1.05, 1.18, 1.67, 1.88, 2.11, 1.2, 1.34, 1, 1.45, 1.12, 2.33, 1.88, 1.2, 1.03, 1.45, 3.55, 1.22, 1.18, 1.67, 1.2, 2.33, 1.11, 1.05, 1.45, 1.33, 1.18, 2.45, 1.67, 1.2, 1.34, 1.05, 1.12, 1.45, 1.18, 1.33, 2.66, 1.2, 1, 1.45, 1.88, 1.12, 1.34, 1.67, 1.2, 1.18, 1.45, 2.11, 1.33, 1.05, 1.12, 1.34, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.33, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.55, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.33, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.55, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.33, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.55, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.33, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.55, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.33, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.55, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.33, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.55, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.11, 1.33, 1.05, 1.88, 1.2, 1.67, 1.45, 1.18, 1.12, 1.34, 2.22, 8.11, 3.56, 2.05, 2.14, 1.3, 1.44, 21.52, 1.07, 33.08, 582.53, 1.18, 1.02, 1.68, 1.23, 1.45, 1.08, 2.78, 2.62, 21.72, 1.11, 4.29, 1.34, 1.75, 2.37, 1.56, 1.16, 1.92, 4.72, 1.35, 2.06, 2.76, 1.81, 7.91, 3.7, 1.4, 4.94, 7.03, 1.37, 1.68, 1.41, 4.71, 2.01, 1.04, 2.26, 5.4, 1.4, 3.76, 1.87, 1.24, 3.18, 6.54, 1.19, 1.41, 5.38, 2.7, 10.78, 2.81, 1.26, 1.15, 3.59, 1.02, 19.38, 2.13, 11.93, 2.68, 2.23, 1.79, 2.29, 2.47, 2.27, 2.24, 1.03, 3.43, 1.05, 4.54, 3.61, 3.82];

        let history = [], idx = 0, stats = { w:0, l:0, profit:0 }, cooldown = 0;

        function addLog(msg, type = 'info') {
            const log = document.getElementById('log');
            const color = type === 'win' ? 'text-emerald-400' : type === 'loss' ? 'text-red-500 font-bold' : 'text-slate-500';
            log.innerHTML = `<div class="${color}">${msg}</div>` + log.innerHTML;
        }

        function runStep() {
            if (idx >= database.length) {
                document.getElementById('signalDisplay').textContent = "SIMULACIÃ“N FINALIZADA";
                return;
            }

            const current = database[idx];
            history.unshift(current);
            if (cooldown > 0) cooldown--;

            // UI UPDATES
            document.getElementById('multiplier').textContent = current.toFixed(2) + 'x';
            document.getElementById('dbInfo').textContent = `ID: ${idx + 1} / 502`;

            // LÃ“GICA V5.2 FILTRADA
            const f_canal = current >= 1.65 && current <= 2.85; // Ignora el 21.52x para evitar el 1.07x
            const f_cont = history[1] > 1.25;
            const f_dens = history.slice(0, 5).filter(v => v < 1.3).length <= 1;
            const f_antiRosa = history.slice(0, 10).every(v => v < 40); // Seguridad tras rosas

            const signal = f_canal && f_cont && f_dens && f_antiRosa && cooldown === 0;

            const sigDisplay = document.getElementById('signalDisplay');
            
            if (signal) {
                sigDisplay.className = "inline-block px-8 py-3 rounded-full bg-emerald-600 text-white font-black orbitron animate-bounce shadow-lg shadow-emerald-900/50";
                sigDisplay.textContent = "ðŸŽ¯ DISPARO CONFIRMADO";
                
                // Procesar apuesta
                const nextVal = database[idx + 1];
                if (nextVal !== undefined) {
                    const isWin = nextVal >= 1.11;
                    if (isWin) {
                        stats.w++; stats.profit += 600;
                        addLog(`[ID ${idx+1}] Confirmado -> ${nextVal}x | Ã‰XITO +$600`, 'win');
                    } else {
                        stats.l++; stats.profit -= 6000;
                        addLog(`[ID ${idx+1}] Confirmado -> ${nextVal}x | FALLA -$6000`, 'loss');
                    }
                    cooldown = 8; // Bloqueo de seguridad tras ganar
                }
            } else {
                sigDisplay.className = "inline-block px-8 py-3 rounded-full bg-slate-950 text-slate-500 font-bold border border-slate-800 uppercase tracking-widest";
                sigDisplay.textContent = cooldown > 0 ? `RECALIBRANDO (${cooldown})` : "Analizando Flujo...";
            }

            // ACTUALIZAR DASHBOARD
            document.getElementById('wins').textContent = stats.w;
            document.getElementById('losses').textContent = stats.l;
            document.getElementById('profit').textContent = `$${stats.profit}`;
            const acc = stats.w + stats.l > 0 ? ((stats.w / (stats.w + stats.l)) * 100).toFixed(0) : 0;
            document.getElementById('accuracy').textContent = acc + '%';

            idx++;
            setTimeout(runStep, 501 - document.getElementById('speed').value);
        }

        document.getElementById('runBtn').onclick = () => {
            idx = 0; stats = {w:0, l:0, profit:0}; history = []; cooldown = 0;
            document.getElementById('log').innerHTML = '';
            runStep();
        };
    </script>
</body>
</html>